<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reƒç Hrdina - Gamifikovan√° aplik√°cia na podporu reƒçovej terapie</title>
    
    <!-- Pripojenie CSS s√∫boru so v≈°etk√Ωmi ≈°t√Ωlmi -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Pripojenie CSS s√∫boru pre autentifik√°ciu -->
    <link rel="stylesheet" href="auth-styles.css">
    
    <!-- ============================================
         FIREBASE SDK - –ë–ê–ó–ê –î–ê–ù–ù–´–• –ò –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø
         ============================================ -->
    <!-- Firebase App (the core Firebase SDK) -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <!-- Firebase Authentication -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <!-- Firebase Realtime Database -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
</head>
<body>
    <!-- HLAVN√ù KONTAJNER APLIK√ÅCIE -->
    <div class="container">
        
        <!-- SEKCIA HLAVIƒåKY S LOGOM A N√ÅZVOM -->
        <div class="header">
            <div class="logo">ü¶∏‚Äç‚ôÇÔ∏è</div>
            <h1>Reƒç Hrdina</h1>
            <p class="subtitle">Gamifikovan√° aplik√°cia na podporu reƒçovej terapie</p>
        </div>

        <!-- PANEL SO ≈†TATISTIKAMI (√örove≈à, Body, S√©ria) -->
        <!-- Tieto hodnoty sa aktualizuj√∫ dynamicky cez JavaScript -->
        <div class="stats-bar">
            <!-- Aktu√°lna √∫rove≈à hr√°ƒça -->
            <div class="stat">
                <span class="stat-value" id="level-display">1</span>
                <span class="stat-label">√örove≈à</span>
            </div>
            
            <!-- Celkov√© sk√≥re hr√°ƒça -->
            <div class="stat">
                <span class="stat-value" id="score-display">0</span>
                <span class="stat-label">Body</span>
            </div>
            
            <!-- Poƒçet spr√°vnych odpoved√≠ za sebou (streak) -->
            <div class="stat">
                <span class="stat-value" id="streak-display">0</span>
                <span class="stat-label">S√©ria</span>
            </div>
        </div>

        <!-- SEKCIA V√ùBERU √öROVNE OBTIA≈ΩNOSTI -->
        <!-- T√°to sekcia je viditeƒæn√° na zaƒçiatku, po kliknut√≠ na √∫rove≈à sa skryje -->
        <div id="level-selection">
            <h2 style="text-align: center; margin-bottom: 20px; color: #667eea;">Vyber si √∫rove≈à obtia≈ænosti</h2>
            
            <!-- GRID S KARTAMI √öROVN√ç -->
            <div class="level-select">
                
                <!-- ƒΩAHK√Å √öROVE≈á - odomknut√° na zaƒçiatku (trieda "active") -->
                <div class="level-card active" data-level="easy">
                    <div class="level-icon">üå±</div>
                    <div class="level-title">ƒΩahk√°</div>
                    <div class="level-description">Jednoduch√© slov√° a zvuky</div>
                </div>
                
                <!-- STREDN√Å √öROVE≈á - zamknut√° na zaƒçiatku (trieda "locked") -->
                <!-- Odomkne sa po dokonƒçen√≠ ƒæahkej √∫rovne s 70%+ √∫spe≈°nos≈•ou -->
                <div class="level-card locked" data-level="medium">
                    <div class="level-icon">‚≠ê</div>
                    <div class="level-title">Stredn√°</div>
                    <div class="level-description">Zlo≈æitej≈°ie slov√°</div>
                    <div class="lock-icon">üîí</div>
                </div>
                
                <!-- ≈§A≈ΩK√Å √öROVE≈á - zamknut√° na zaƒçiatku -->
                <!-- Odomkne sa po dokonƒçen√≠ strednej √∫rovne s 70%+ √∫spe≈°nos≈•ou -->
                <div class="level-card locked" data-level="hard">
                    <div class="level-icon">üíé</div>
                    <div class="level-title">≈§a≈æk√°</div>
                    <div class="level-description">N√°roƒçn√© fr√°zy</div>
                    <div class="lock-icon">üîí</div>
                </div>
            </div>
        </div>

        <!-- SEKCIA S CVIƒåENIAMI -->
        <!-- T√°to sekcia je skryt√° na zaƒçiatku (display: none v CSS) -->
        <!-- Zobraz√≠ sa po v√Ωbere √∫rovne obtia≈ænosti -->
        <div class="exercise-area" id="exercise-area">
            
            <!-- PROGRESS BAR - ukazuje koƒæko cviƒçen√≠ je hotov√Ωch -->
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
            </div>

            <!-- KARTA S CVIƒåEN√çM -->
            <div class="exercise-card">
                <!-- In≈°trukcia ƒço m√° pou≈æ√≠vateƒæ urobi≈• -->
                <div class="exercise-instruction" id="instruction">Povedz toto slovo nahlas:</div>
                
                <!-- SLOVO ktor√© m√° pou≈æ√≠vateƒæ vyslovi≈• -->
                <!-- Toto sa men√≠ dynamicky v JavaScript -->
                <div class="exercise-word" id="word-display">üé§</div>
                
                <!-- TLAƒåIDLO MIKROF√ìNU -->
                <!-- Po kliknut√≠ sa aktivuje Web Speech API a zaƒçne poƒç√∫va≈• -->
                <button class="voice-button" id="voice-btn">
                    <span>üé§</span>
                    <span>Stlaƒç a hovor</span>
                </button>
            </div>

            <!-- FEEDBACK PANEL -->
            <!-- Zobrazuje sa po vyhodnoten√≠ odpovede -->
            <!-- M√¥≈æe by≈• zelen√Ω (spr√°vne) alebo ƒçerven√Ω (nespr√°vne) -->
            <div class="feedback" id="feedback"></div>

            <!-- NAVIGAƒåN√â TLAƒåIDL√Å -->
            <div class="navigation-buttons">
                <!-- Tlaƒçidlo sp√§≈• na v√Ωber √∫rovne -->
                <button class="btn btn-secondary" id="back-btn">‚Ü© Sp√§≈•</button>
                
                <!-- Tlaƒçidlo na ƒèal≈°ie cviƒçenie (zobraz√≠ sa len po spr√°vnej odpovedi) -->
                <button class="btn btn-primary" id="next-btn" style="display: none;">ƒéalej ‚Üí</button>
            </div>
        </div>
    </div>

    <!-- –ö–û–ù–¢–ê–à–ù–ï–† –ù–ê KONFETY -->
    <!-- Sem sa prid√°vaj√∫ animovan√© konfety pri √∫spechu -->
    <div class="celebration" id="celebration"></div>

    <!-- MOD√ÅLNE OKNO PO DOKONƒåEN√ç √öROVNE -->
    <!-- Zobrazuje sa keƒè pou≈æ√≠vateƒæ dokonƒç√≠ v≈°etky cviƒçenia v √∫rovni -->
    <div class="modal" id="level-complete-modal">
        <div class="modal-content">
            <div class="modal-icon">üéâ</div>
            <div class="modal-title">√örove≈à dokonƒçen√°!</div>
            <!-- Dynamick√Ω text s bodmi a √∫spe≈°nos≈•ou -->
            <div class="modal-text" id="modal-text">Z√≠skal si <strong>100 bodov</strong>!</div>
            <button class="btn btn-primary" id="continue-btn">Pokraƒçova≈•</button>
        </div>
    </div>

    <!-- ============================================
         –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò
         ============================================ -->

    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –í–•–û–î–ê (—É–ø—Ä–æ—â–µ–Ω–Ω–æ–µ) -->
    <div class="auth-modal" id="login-modal" style="display: none;">
        <div class="auth-modal-content">
            <span class="auth-close" onclick="closeModal('login-modal')">&times;</span>
            
            <div class="auth-header">
                <div class="auth-logo">ü¶∏‚Äç‚ôÇÔ∏è</div>
                <h2>Prihl√°senie</h2>
                <p>Prihl√°s sa aby si ulo≈æil svoj pokrok</p>
            </div>

            <form id="login-form">
                <div class="auth-input-group">
                    <label>Email</label>
                    <input type="email" id="login-email" required>
                </div>

                <div class="auth-input-group">
                    <label>Heslo</label>
                    <input type="password" id="login-password" required>
                </div>

                <button type="submit" class="auth-button">Prihl√°si≈• sa</button>
            </form>

            <div class="auth-switch">
                Nem√°≈° √∫ƒçet? 
                <a href="#" onclick="closeModal('login-modal'); openModal('register-modal');">Zaregistruj sa</a>
            </div>
        </div>
    </div>

    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò (—Å –ø–æ–∫–∞–∑–æ–º –ø–∞—Ä–æ–ª—è) -->
    <div class="auth-modal" id="register-modal" style="display: none;">
        <div class="auth-modal-content">
            <span class="auth-close" onclick="closeModal('register-modal')">&times;</span>
            
            <div class="auth-header">
                <div class="auth-logo">üéâ</div>
                <h2>Registr√°cia</h2>
                <p>Vytvor si √∫ƒçet a zaƒçni tr√©nova≈•!</p>
            </div>

            <form id="register-form">
                <div class="auth-input-group">
                    <label>Pou≈æ√≠vateƒæsk√© meno</label>
                    <input type="text" id="register-username" placeholder="Tvoje meno" minlength="3" maxlength="20" required>
                </div>

                <div class="auth-input-group">
                    <label>Email</label>
                    <input type="email" id="register-email" placeholder="tvoj@email.sk" required>
                </div>

                <div class="auth-input-group">
                    <label>Heslo</label>
                    <div style="position: relative;">
                        <input type="password" id="register-password" placeholder="Minim√°lne 6 znakov" minlength="6" required style="padding-right: 45px;">
                        <button type="button" onclick="togglePasswordVisibility('register-password', 'reg-pass-icon')" 
                                style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer; font-size: 1.2em;">
                            <span id="reg-pass-icon">üëÅÔ∏è</span>
                        </button>
                    </div>
                </div>

                <div class="auth-input-group">
                    <label>Potvrƒè heslo</label>
                    <div style="position: relative;">
                        <input type="password" id="register-password-confirm" placeholder="Znova zadaj heslo" minlength="6" required style="padding-right: 45px;">
                        <button type="button" onclick="togglePasswordVisibility('register-password-confirm', 'reg-confirm-icon')" 
                                style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer; font-size: 1.2em;">
                            <span id="reg-confirm-icon">üëÅÔ∏è</span>
                        </button>
                    </div>
                </div>

                <button type="submit" class="auth-button">Vytvori≈• √∫ƒçet</button>
            </form>

            <div class="auth-switch">
                U≈æ m√°≈° √∫ƒçet? 
                <a href="#" onclick="closeModal('register-modal'); openModal('login-modal'); return false;">Prihl√°s sa</a>
            </div>
        </div>
    </div>

    <!-- –ü–ê–ù–ï–õ–¨ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø (–ø—Ä–æ—Å—Ç–∞—è –≤–µ—Ä—Å–∏—è) -->
    <div class="user-panel" id="user-panel" style="display: none;">
        <div class="user-info">
            <div class="user-avatar">üë§</div>
            <div class="user-details">
                <div class="user-name" id="user-name">User</div>
                <div class="user-email" id="user-email">email@example.sk</div>
            </div>
        </div>
        <button class="user-logout-btn" id="logout-btn">Odhl√°si≈• sa</button>
    </div>

    <!-- –ö–ù–û–ü–ö–ê –í–•–û–î–ê -->
    <div class="auth-trigger" id="auth-trigger">
        <button class="auth-trigger-btn" onclick="openModal('login-modal')">
            üîê Prihl√°si≈• sa
        </button>
    </div>

    <!-- –ü–†–ò–üOJENIE JAVASCRIPT S√öBORU -->
    <!-- Tento s√∫bor obsahuje v≈°etku logiku aplik√°cie a Web Speech API -->
    <script src="script.js"></script>
    
    <!-- ============================================
         FIREBASE –ò –ü–†–û–°–¢–ê–Ø –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø
         ============================================ -->
    <!-- Firebase konfigur√°cia -->
    <script src="firebase-config.js"></script>
    
    <!-- –ù–û–í–ê–Ø –ü–†–û–°–¢–ê–Ø —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
    <script src="simple-auth.js"></script>
</body>
</html>
